ARM GAS  /tmp/ccFTA3fT.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"motorControl.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleT
  17              		.align	1
  18              		.global	_ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	_ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:
  26              		.fnstart
  27              	.LVL0:
  28              	.LFB1033:
  29              		.file 1 "Modules/src/motorControl.cpp"
   1:Modules/src/motorControl.cpp **** #include "motorControl.h"
   2:Modules/src/motorControl.cpp **** 
   3:Modules/src/motorControl.cpp **** namespace STM32_motor_control
   4:Modules/src/motorControl.cpp **** {   
   5:Modules/src/motorControl.cpp ****     stepper_motor_controller* motor_controller_1;
   6:Modules/src/motorControl.cpp **** 
   7:Modules/src/motorControl.cpp ****     //Constructor 
   8:Modules/src/motorControl.cpp ****     stepper_motor_controller::stepper_motor_controller(GPIO_TypeDef* gpio_port, uint16_t gpio_pin, 
  30              		.loc 1 8 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 8 5 is_stmt 0 view .LVU1
  36 0000 30B4     		push	{r4, r5}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 4, -8
  40              		.cfi_offset 5, -4
  41              	.LBB2:
  42              		.loc 1 8 130 view .LVU2
  43 0002 C825     		movs	r5, #200
  44 0004 C580     		strh	r5, [r0, #6]	@ movhi
  45 0006 034D     		ldr	r5, .L3
  46 0008 8560     		str	r5, [r0, #8]
   9:Modules/src/motorControl.cpp ****     {
  10:Modules/src/motorControl.cpp ****         this -> motorc_port = gpio_port;
  47              		.loc 1 10 9 is_stmt 1 view .LVU3
  48              		.loc 1 10 29 is_stmt 0 view .LVU4
ARM GAS  /tmp/ccFTA3fT.s 			page 2


  49 000a 0160     		str	r1, [r0]
  11:Modules/src/motorControl.cpp ****         this -> motorc_pin = gpio_pin;
  50              		.loc 1 11 9 is_stmt 1 view .LVU5
  51              		.loc 1 11 28 is_stmt 0 view .LVU6
  52 000c 8280     		strh	r2, [r0, #4]	@ movhi
  12:Modules/src/motorControl.cpp ****         this -> htim_handle = htim_handle;
  53              		.loc 1 12 9 is_stmt 1 view .LVU7
  54              		.loc 1 12 29 is_stmt 0 view .LVU8
  55 000e 0361     		str	r3, [r0, #16]
  56              	.LBE2:
  13:Modules/src/motorControl.cpp ****     }
  57              		.loc 1 13 5 view .LVU9
  58 0010 30BC     		pop	{r4, r5}
  59              	.LCFI1:
  60              		.cfi_restore 5
  61              		.cfi_restore 4
  62              		.cfi_def_cfa_offset 0
  63 0012 7047     		bx	lr
  64              	.L4:
  65              		.align	2
  66              	.L3:
  67 0014 00E1F505 		.word	100000000
  68              		.cfi_endproc
  69              	.LFE1033:
  70              		.cantunwind
  71              		.fnend
  73              		.global	_ZN19STM32_motor_control24stepper_motor_controllerC1EP12GPIO_TypeDeftP17TIM_HandleTypeDef
  74              		.thumb_set _ZN19STM32_motor_control24stepper_motor_controllerC1EP12GPIO_TypeDeftP17TIM_HandleTypeD
  75              		.section	.text._ZN19STM32_motor_control24stepper_motor_controller19set_timer_frequencyEv,"ax",%pro
  76              		.align	1
  77              		.global	_ZN19STM32_motor_control24stepper_motor_controller19set_timer_frequencyEv
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  81              		.fpu fpv5-d16
  83              	_ZN19STM32_motor_control24stepper_motor_controller19set_timer_frequencyEv:
  84              		.fnstart
  85              	.LVL1:
  86              	.LFB1036:
  14:Modules/src/motorControl.cpp **** 
  15:Modules/src/motorControl.cpp **** 
  16:Modules/src/motorControl.cpp ****     void stepper_motor_controller::set_stepper_rpm(uint32_t motor_rpm)
  17:Modules/src/motorControl.cpp ****     {
  18:Modules/src/motorControl.cpp ****         this -> calculate_timer_frequency(motor_rpm);
  19:Modules/src/motorControl.cpp ****         this -> set_timer_frequency();
  20:Modules/src/motorControl.cpp ****     }
  21:Modules/src/motorControl.cpp ****     
  22:Modules/src/motorControl.cpp ****     void stepper_motor_controller::set_timer_frequency()
  23:Modules/src/motorControl.cpp ****     {   
  87              		.loc 1 23 5 is_stmt 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91              		@ link register save eliminated.
  24:Modules/src/motorControl.cpp **** 
  25:Modules/src/motorControl.cpp ****         //find the timer prescalr using HAL
  26:Modules/src/motorControl.cpp ****         uint32_t timer_prescalar = (this -> htim_handle -> Instance -> PSC) + 1; 
ARM GAS  /tmp/ccFTA3fT.s 			page 3


  92              		.loc 1 26 9 view .LVU11
  93              		.loc 1 26 45 is_stmt 0 view .LVU12
  94 0000 0369     		ldr	r3, [r0, #16]
  95              		.loc 1 26 60 view .LVU13
  96 0002 1968     		ldr	r1, [r3]
  97              		.loc 1 26 72 view .LVU14
  98 0004 8A6A     		ldr	r2, [r1, #40]
  99              		.loc 1 26 79 view .LVU15
 100 0006 0132     		adds	r2, r2, #1
 101              	.LVL2:
  27:Modules/src/motorControl.cpp ****         uint32_t timer_reload_count = (this -> timer_input_clk_freq/timer_prescalar) / (this -> tim
 102              		.loc 1 27 9 is_stmt 1 view .LVU16
 103              		.loc 1 27 48 is_stmt 0 view .LVU17
 104 0008 8368     		ldr	r3, [r0, #8]
 105              		.loc 1 27 68 view .LVU18
 106 000a B3FBF2F3 		udiv	r3, r3, r2
 107              		.loc 1 27 97 view .LVU19
 108 000e C268     		ldr	r2, [r0, #12]
 109              	.LVL3:
 110              		.loc 1 27 18 view .LVU20
 111 0010 B3FBF2F3 		udiv	r3, r3, r2
 112              	.LVL4:
  28:Modules/src/motorControl.cpp ****         //Calcualte the reload value based on the frequency parameter.
  29:Modules/src/motorControl.cpp ****         __HAL_TIM_SET_AUTORELOAD(this -> htim_handle, timer_reload_count);
 113              		.loc 1 29 9 is_stmt 1 view .LVU21
 114              		.loc 1 29 9 view .LVU22
 115 0014 CB62     		str	r3, [r1, #44]
 116              		.loc 1 29 9 view .LVU23
 117 0016 0269     		ldr	r2, [r0, #16]
 118 0018 D360     		str	r3, [r2, #12]
  30:Modules/src/motorControl.cpp ****     }
 119              		.loc 1 30 5 is_stmt 0 view .LVU24
 120 001a 7047     		bx	lr
 121              		.cfi_endproc
 122              	.LFE1036:
 123              		.cantunwind
 124              		.fnend
 126              		.section	.text._ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm,"ax
 127              		.align	1
 128              		.global	_ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv5-d16
 134              	_ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm:
 135              		.fnstart
 136              	.LVL5:
 137              	.LFB1037:
  31:Modules/src/motorControl.cpp **** 
  32:Modules/src/motorControl.cpp **** 
  33:Modules/src/motorControl.cpp ****     void stepper_motor_controller::calculate_timer_frequency(uint32_t motor_rpm)
  34:Modules/src/motorControl.cpp ****     {  
 138              		.loc 1 34 5 is_stmt 1 view -0
 139              		.cfi_startproc
 140              		@ args = 0, pretend = 0, frame = 0
 141              		@ frame_needed = 0, uses_anonymous_args = 0
 142              		@ link register save eliminated.
ARM GAS  /tmp/ccFTA3fT.s 			page 4


  35:Modules/src/motorControl.cpp ****         //Calculate the timer output frequency based on the motor rpm and 
  36:Modules/src/motorControl.cpp ****         //the number of steps per revolution   
  37:Modules/src/motorControl.cpp ****         this -> timer_output_freq = motor_rpm * (this -> motor_steps) / (60);
 143              		.loc 1 37 9 view .LVU26
 144              		.loc 1 37 58 is_stmt 0 view .LVU27
 145 0000 C388     		ldrh	r3, [r0, #6]
 146              		.loc 1 37 47 view .LVU28
 147 0002 01FB03F1 		mul	r1, r1, r3
 148              	.LVL6:
 149              		.loc 1 37 71 view .LVU29
 150 0006 034B     		ldr	r3, .L7
 151 0008 A3FB0131 		umull	r3, r1, r3, r1
 152 000c 4909     		lsrs	r1, r1, #5
 153              		.loc 1 37 35 view .LVU30
 154 000e C160     		str	r1, [r0, #12]
  38:Modules/src/motorControl.cpp ****     }
 155              		.loc 1 38 5 view .LVU31
 156 0010 7047     		bx	lr
 157              	.L8:
 158 0012 00BF     		.align	2
 159              	.L7:
 160 0014 89888888 		.word	-2004318071
 161              		.cfi_endproc
 162              	.LFE1037:
 163              		.cantunwind
 164              		.fnend
 166              		.section	.text._ZN19STM32_motor_control24stepper_motor_controller15set_stepper_rpmEm,"ax",%progbit
 167              		.align	1
 168              		.global	_ZN19STM32_motor_control24stepper_motor_controller15set_stepper_rpmEm
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 172              		.fpu fpv5-d16
 174              	_ZN19STM32_motor_control24stepper_motor_controller15set_stepper_rpmEm:
 175              		.fnstart
 176              	.LVL7:
 177              	.LFB1035:
  17:Modules/src/motorControl.cpp ****         this -> calculate_timer_frequency(motor_rpm);
 178              		.loc 1 17 5 is_stmt 1 view -0
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 0, uses_anonymous_args = 0
  17:Modules/src/motorControl.cpp ****         this -> calculate_timer_frequency(motor_rpm);
 182              		.loc 1 17 5 is_stmt 0 view .LVU33
 183 0000 10B5     		push	{r4, lr}
 184              	.LCFI2:
 185              		.cfi_def_cfa_offset 8
 186              		.cfi_offset 4, -8
 187              		.cfi_offset 14, -4
 188 0002 0446     		mov	r4, r0
  18:Modules/src/motorControl.cpp ****         this -> set_timer_frequency();
 189              		.loc 1 18 9 is_stmt 1 view .LVU34
  18:Modules/src/motorControl.cpp ****         this -> set_timer_frequency();
 190              		.loc 1 18 42 is_stmt 0 view .LVU35
 191 0004 FFF7FEFF 		bl	_ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm
 192              	.LVL8:
  19:Modules/src/motorControl.cpp ****     }
ARM GAS  /tmp/ccFTA3fT.s 			page 5


 193              		.loc 1 19 9 is_stmt 1 view .LVU36
  19:Modules/src/motorControl.cpp ****     }
 194              		.loc 1 19 36 is_stmt 0 view .LVU37
 195 0008 2046     		mov	r0, r4
 196 000a FFF7FEFF 		bl	_ZN19STM32_motor_control24stepper_motor_controller19set_timer_frequencyEv
 197              	.LVL9:
  20:Modules/src/motorControl.cpp ****     
 198              		.loc 1 20 5 view .LVU38
 199 000e 10BD     		pop	{r4, pc}
  20:Modules/src/motorControl.cpp ****     
 200              		.loc 1 20 5 view .LVU39
 201              		.cfi_endproc
 202              	.LFE1035:
 203              		.cantunwind
 204              		.fnend
 206              		.global	_ZN19STM32_motor_control18motor_controller_1E
 207              		.section	.bss._ZN19STM32_motor_control18motor_controller_1E,"aw",%nobits
 208              		.align	2
 211              	_ZN19STM32_motor_control18motor_controller_1E:
 212 0000 00000000 		.space	4
 213              		.text
 214              	.Letext0:
 215              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 216              		.file 3 "Drivers/CMSIS/Include/core_cm7.h"
 217              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 218              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h733xx.h"
 219              		.file 6 "/usr/include/newlib/c++/9.2.1/cmath"
 220              		.file 7 "/usr/include/newlib/c++/9.2.1/type_traits"
 221              		.file 8 "/usr/include/newlib/c++/9.2.1/arm-none-eabi/thumb/v7e-m+dp/hard/bits/c++config.h"
 222              		.file 9 "/usr/include/newlib/c++/9.2.1/bits/stl_pair.h"
 223              		.file 10 "/usr/include/newlib/c++/9.2.1/debug/debug.h"
 224              		.file 11 "/usr/include/newlib/c++/9.2.1/limits"
 225              		.file 12 "/usr/include/newlib/c++/9.2.1/bits/std_abs.h"
 226              		.file 13 "/usr/include/newlib/c++/9.2.1/tr1/special_function_util.h"
 227              		.file 14 "/usr/include/newlib/c++/9.2.1/bits/predefined_ops.h"
 228              		.file 15 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 229              		.file 16 "/usr/include/newlib/sys/_types.h"
 230              		.file 17 "/usr/include/newlib/sys/reent.h"
 231              		.file 18 "/usr/include/newlib/sys/lock.h"
 232              		.file 19 "/usr/include/newlib/math.h"
 233              		.file 20 "/usr/include/newlib/c++/9.2.1/math.h"
 234              		.file 21 "/usr/include/newlib/stdlib.h"
 235              		.file 22 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 236              		.file 23 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 237              		.file 24 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 238              		.file 25 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_tim.h"
 239              		.file 26 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 240              		.file 27 "Modules/inc/motorControl.h"
 241              		.file 28 "<built-in>"
ARM GAS  /tmp/ccFTA3fT.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 motorControl.cpp
     /tmp/ccFTA3fT.s:17     .text._ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000000 $t
     /tmp/ccFTA3fT.s:25     .text._ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000000 _ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef
     /tmp/ccFTA3fT.s:67     .text._ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000014 $d
.ARM.exidx.text._ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000000 $d
     /tmp/ccFTA3fT.s:25     .text._ZN19STM32_motor_control24stepper_motor_controllerC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000000 _ZN19STM32_motor_control24stepper_motor_controllerC1EP12GPIO_TypeDeftP17TIM_HandleTypeDef
     /tmp/ccFTA3fT.s:76     .text._ZN19STM32_motor_control24stepper_motor_controller19set_timer_frequencyEv:0000000000000000 $t
     /tmp/ccFTA3fT.s:83     .text._ZN19STM32_motor_control24stepper_motor_controller19set_timer_frequencyEv:0000000000000000 _ZN19STM32_motor_control24stepper_motor_controller19set_timer_frequencyEv
.ARM.exidx.text._ZN19STM32_motor_control24stepper_motor_controller19set_timer_frequencyEv:0000000000000000 $d
     /tmp/ccFTA3fT.s:127    .text._ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm:0000000000000000 $t
     /tmp/ccFTA3fT.s:134    .text._ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm:0000000000000000 _ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm
     /tmp/ccFTA3fT.s:160    .text._ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm:0000000000000014 $d
.ARM.exidx.text._ZN19STM32_motor_control24stepper_motor_controller25calculate_timer_frequencyEm:0000000000000000 $d
     /tmp/ccFTA3fT.s:167    .text._ZN19STM32_motor_control24stepper_motor_controller15set_stepper_rpmEm:0000000000000000 $t
     /tmp/ccFTA3fT.s:174    .text._ZN19STM32_motor_control24stepper_motor_controller15set_stepper_rpmEm:0000000000000000 _ZN19STM32_motor_control24stepper_motor_controller15set_stepper_rpmEm
.ARM.exidx.text._ZN19STM32_motor_control24stepper_motor_controller15set_stepper_rpmEm:0000000000000000 $d
     /tmp/ccFTA3fT.s:211    .bss._ZN19STM32_motor_control18motor_controller_1E:0000000000000000 _ZN19STM32_motor_control18motor_controller_1E
     /tmp/ccFTA3fT.s:208    .bss._ZN19STM32_motor_control18motor_controller_1E:0000000000000000 $d

NO UNDEFINED SYMBOLS
