ARM GAS  /tmp/ccbgbwgu.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"motorControl.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef,"ax",%
  17              		.align	1
  18              		.global	_ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	_ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:
  26              		.fnstart
  27              	.LVL0:
  28              	.LFB1253:
  29              		.file 1 "Modules/src/motorControl.cpp"
   1:Modules/src/motorControl.cpp **** #include "motorControl.h"
   2:Modules/src/motorControl.cpp **** 
   3:Modules/src/motorControl.cpp **** namespace STM32_motorControl
   4:Modules/src/motorControl.cpp **** {   
   5:Modules/src/motorControl.cpp ****     motorControl* motorC1;
   6:Modules/src/motorControl.cpp **** 
   7:Modules/src/motorControl.cpp ****     //Constructor 
   8:Modules/src/motorControl.cpp ****     motorControl::motorControl(GPIO_TypeDef* gpio_port, uint16_t gpio_pin, TIM_HandleTypeDef* htim_
  30              		.loc 1 8 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 8 5 is_stmt 0 view .LVU1
  36 0000 10B4     		push	{r4}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 4
  39              		.cfi_offset 4, -4
  40              	.LBB2:
  41              		.loc 1 8 106 view .LVU2
  42 0002 C824     		movs	r4, #200
  43 0004 C480     		strh	r4, [r0, #6]	@ movhi
  44 0006 044C     		ldr	r4, .L3
  45 0008 0461     		str	r4, [r0, #16]
   9:Modules/src/motorControl.cpp ****     {
  10:Modules/src/motorControl.cpp ****         this -> motorC_port = gpio_port;
  46              		.loc 1 10 9 is_stmt 1 view .LVU3
  47              		.loc 1 10 29 is_stmt 0 view .LVU4
  48 000a 0160     		str	r1, [r0]
ARM GAS  /tmp/ccbgbwgu.s 			page 2


  11:Modules/src/motorControl.cpp ****         this -> motorC_pin = gpio_pin;
  49              		.loc 1 11 9 is_stmt 1 view .LVU5
  50              		.loc 1 11 28 is_stmt 0 view .LVU6
  51 000c 8280     		strh	r2, [r0, #4]	@ movhi
  12:Modules/src/motorControl.cpp ****         this -> htim_handle = htim_handle;
  52              		.loc 1 12 9 is_stmt 1 view .LVU7
  53              		.loc 1 12 29 is_stmt 0 view .LVU8
  54 000e C360     		str	r3, [r0, #12]
  55              	.LBE2:
  13:Modules/src/motorControl.cpp ****     }
  56              		.loc 1 13 5 view .LVU9
  57 0010 5DF8044B 		ldr	r4, [sp], #4
  58              	.LCFI1:
  59              		.cfi_restore 4
  60              		.cfi_def_cfa_offset 0
  61 0014 7047     		bx	lr
  62              	.L4:
  63 0016 00BF     		.align	2
  64              	.L3:
  65 0018 40420F00 		.word	1000000
  66              		.cfi_endproc
  67              	.LFE1253:
  68              		.cantunwind
  69              		.fnend
  71              		.global	_ZN18STM32_motorControl12motorControlC1EP12GPIO_TypeDeftP17TIM_HandleTypeDef
  72              		.thumb_set _ZN18STM32_motorControl12motorControlC1EP12GPIO_TypeDeftP17TIM_HandleTypeDef,_ZN18STM32
  73              		.section	.text._ZN18STM32_motorControl12motorControl11timer_startEv,"ax",%progbits
  74              		.align	1
  75              		.global	_ZN18STM32_motorControl12motorControl11timer_startEv
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu fpv5-d16
  81              	_ZN18STM32_motorControl12motorControl11timer_startEv:
  82              		.fnstart
  83              	.LVL1:
  84              	.LFB1255:
  14:Modules/src/motorControl.cpp **** 
  15:Modules/src/motorControl.cpp **** 
  16:Modules/src/motorControl.cpp ****     void motorControl::timer_start()
  17:Modules/src/motorControl.cpp ****     {
  85              		.loc 1 17 5 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		.loc 1 17 5 is_stmt 0 view .LVU11
  90 0000 08B5     		push	{r3, lr}
  91              		.save {r3, lr}
  92              	.LCFI2:
  93              		.cfi_def_cfa_offset 8
  94              		.cfi_offset 3, -8
  95              		.cfi_offset 14, -4
  18:Modules/src/motorControl.cpp ****         HAL_TIM_Base_Start(this -> htim_handle);
  96              		.loc 1 18 9 is_stmt 1 view .LVU12
  97              		.loc 1 18 27 is_stmt 0 view .LVU13
  98 0002 C068     		ldr	r0, [r0, #12]
  99              	.LVL2:
ARM GAS  /tmp/ccbgbwgu.s 			page 3


 100              		.loc 1 18 27 view .LVU14
 101 0004 FFF7FEFF 		bl	HAL_TIM_Base_Start
 102              	.LVL3:
  19:Modules/src/motorControl.cpp ****     }
 103              		.loc 1 19 5 view .LVU15
 104 0008 08BD     		pop	{r3, pc}
 105              		.cfi_endproc
 106              	.LFE1255:
 107              		.fnend
 109              		.section	.text._ZN18STM32_motorControl12motorControl10timer_stopEv,"ax",%progbits
 110              		.align	1
 111              		.global	_ZN18STM32_motorControl12motorControl10timer_stopEv
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 115              		.fpu fpv5-d16
 117              	_ZN18STM32_motorControl12motorControl10timer_stopEv:
 118              		.fnstart
 119              	.LVL4:
 120              	.LFB1256:
  20:Modules/src/motorControl.cpp **** 
  21:Modules/src/motorControl.cpp ****     void motorControl::timer_stop()
  22:Modules/src/motorControl.cpp ****     {
 121              		.loc 1 22 5 is_stmt 1 view -0
 122              		.cfi_startproc
 123              		@ args = 0, pretend = 0, frame = 0
 124              		@ frame_needed = 0, uses_anonymous_args = 0
 125              		.loc 1 22 5 is_stmt 0 view .LVU17
 126 0000 08B5     		push	{r3, lr}
 127              		.save {r3, lr}
 128              	.LCFI3:
 129              		.cfi_def_cfa_offset 8
 130              		.cfi_offset 3, -8
 131              		.cfi_offset 14, -4
  23:Modules/src/motorControl.cpp ****         HAL_TIM_Base_Stop(this -> htim_handle);
 132              		.loc 1 23 9 is_stmt 1 view .LVU18
 133              		.loc 1 23 26 is_stmt 0 view .LVU19
 134 0002 C068     		ldr	r0, [r0, #12]
 135              	.LVL5:
 136              		.loc 1 23 26 view .LVU20
 137 0004 FFF7FEFF 		bl	HAL_TIM_Base_Stop
 138              	.LVL6:
  24:Modules/src/motorControl.cpp ****     }
 139              		.loc 1 24 5 view .LVU21
 140 0008 08BD     		pop	{r3, pc}
 141              		.cfi_endproc
 142              	.LFE1256:
 143              		.fnend
 145              		.section	.text._ZN18STM32_motorControl12motorControl22adjust_timer_frequencyEv,"ax",%progbits
 146              		.align	1
 147              		.global	_ZN18STM32_motorControl12motorControl22adjust_timer_frequencyEv
 148              		.syntax unified
 149              		.thumb
 150              		.thumb_func
 151              		.fpu fpv5-d16
 153              	_ZN18STM32_motorControl12motorControl22adjust_timer_frequencyEv:
 154              		.fnstart
ARM GAS  /tmp/ccbgbwgu.s 			page 4


 155              	.LVL7:
 156              	.LFB1257:
  25:Modules/src/motorControl.cpp **** 
  26:Modules/src/motorControl.cpp ****     
  27:Modules/src/motorControl.cpp ****     void motorControl::adjust_timer_frequency()
  28:Modules/src/motorControl.cpp ****     {
 157              		.loc 1 28 5 is_stmt 1 view -0
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 0
 160              		@ frame_needed = 0, uses_anonymous_args = 0
 161              		@ link register save eliminated.
  29:Modules/src/motorControl.cpp ****         uint32_t timer_reload_count = this -> clk_freq / this -> timer_freq;
 162              		.loc 1 29 9 view .LVU23
 163              		.loc 1 29 47 is_stmt 0 view .LVU24
 164 0000 0369     		ldr	r3, [r0, #16]
 165              		.loc 1 29 66 view .LVU25
 166 0002 8268     		ldr	r2, [r0, #8]
 167              		.loc 1 29 18 view .LVU26
 168 0004 B3FBF2F3 		udiv	r3, r3, r2
 169              	.LVL8:
  30:Modules/src/motorControl.cpp ****         //Calcualte the reload value based on the frequency parameter.
  31:Modules/src/motorControl.cpp ****         __HAL_TIM_SET_AUTORELOAD(this -> htim_handle, timer_reload_count);
 170              		.loc 1 31 9 is_stmt 1 view .LVU27
 171              		.loc 1 31 9 view .LVU28
 172 0008 C268     		ldr	r2, [r0, #12]
 173 000a 1268     		ldr	r2, [r2]
 174 000c D362     		str	r3, [r2, #44]
 175              		.loc 1 31 9 view .LVU29
 176 000e C268     		ldr	r2, [r0, #12]
 177 0010 D360     		str	r3, [r2, #12]
  32:Modules/src/motorControl.cpp ****     }
 178              		.loc 1 32 5 is_stmt 0 view .LVU30
 179 0012 7047     		bx	lr
 180              		.cfi_endproc
 181              	.LFE1257:
 182              		.cantunwind
 183              		.fnend
 185              		.section	.text._ZN18STM32_motorControl12motorControl25calculate_timer_frequencyEt,"ax",%progbits
 186              		.align	1
 187              		.global	_ZN18STM32_motorControl12motorControl25calculate_timer_frequencyEt
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 191              		.fpu fpv5-d16
 193              	_ZN18STM32_motorControl12motorControl25calculate_timer_frequencyEt:
 194              		.fnstart
 195              	.LVL9:
 196              	.LFB1258:
  33:Modules/src/motorControl.cpp **** 
  34:Modules/src/motorControl.cpp **** 
  35:Modules/src/motorControl.cpp ****     void motorControl::calculate_timer_frequency(uint16_t motor_rpm)
  36:Modules/src/motorControl.cpp ****     {
 197              		.loc 1 36 5 is_stmt 1 view -0
 198              		.cfi_startproc
 199              		@ args = 0, pretend = 0, frame = 0
 200              		@ frame_needed = 0, uses_anonymous_args = 0
 201              		@ link register save eliminated.
ARM GAS  /tmp/ccbgbwgu.s 			page 5


  37:Modules/src/motorControl.cpp ****         this -> timer_freq = motor_rpm*(this -> motorSteps) / (60);
 202              		.loc 1 37 9 view .LVU32
 203              		.loc 1 37 49 is_stmt 0 view .LVU33
 204 0000 C388     		ldrh	r3, [r0, #6]
 205              		.loc 1 37 39 view .LVU34
 206 0002 03FB01F1 		mul	r1, r3, r1
 207              	.LVL10:
 208              		.loc 1 37 61 view .LVU35
 209 0006 044B     		ldr	r3, .L11
 210 0008 83FB0123 		smull	r2, r3, r3, r1
 211 000c 0B44     		add	r3, r3, r1
 212 000e C917     		asrs	r1, r1, #31
 213 0010 C1EB6311 		rsb	r1, r1, r3, asr #5
 214              		.loc 1 37 28 view .LVU36
 215 0014 8160     		str	r1, [r0, #8]
  38:Modules/src/motorControl.cpp ****     }
 216              		.loc 1 38 5 view .LVU37
 217 0016 7047     		bx	lr
 218              	.L12:
 219              		.align	2
 220              	.L11:
 221 0018 89888888 		.word	-2004318071
 222              		.cfi_endproc
 223              	.LFE1258:
 224              		.cantunwind
 225              		.fnend
 227              		.global	_ZN18STM32_motorControl7motorC1E
 228              		.section	.bss._ZN18STM32_motorControl7motorC1E,"aw",%nobits
 229              		.align	2
 232              	_ZN18STM32_motorControl7motorC1E:
 233 0000 00000000 		.space	4
 234              		.text
 235              	.Letext0:
 236              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 237              		.file 3 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h733xx.h"
 238              		.file 4 "/usr/include/newlib/c++/10.3.1/cmath"
 239              		.file 5 "/usr/include/newlib/c++/10.3.1/type_traits"
 240              		.file 6 "/usr/include/newlib/c++/10.3.1/concepts"
 241              		.file 7 "/usr/include/newlib/c++/10.3.1/arm-none-eabi/thumb/v7e-m+dp/hard/bits/c++config.h"
 242              		.file 8 "/usr/include/newlib/c++/10.3.1/bits/iterator_concepts.h"
 243              		.file 9 "/usr/include/newlib/c++/10.3.1/compare"
 244              		.file 10 "/usr/include/newlib/c++/10.3.1/bits/exception_ptr.h"
 245              		.file 11 "/usr/include/newlib/c++/10.3.1/debug/debug.h"
 246              		.file 12 "/usr/include/newlib/c++/10.3.1/bits/std_abs.h"
 247              		.file 13 "/usr/include/newlib/c++/10.3.1/bits/predefined_ops.h"
 248              		.file 14 "/usr/include/newlib/math.h"
 249              		.file 15 "/usr/include/newlib/c++/10.3.1/bits/ptr_traits.h"
 250              		.file 16 "/usr/include/newlib/c++/10.3.1/math.h"
 251              		.file 17 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 252              		.file 18 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 253              		.file 19 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_tim.h"
 254              		.file 20 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 255              		.file 21 "Modules/inc/motorControl.h"
 256              		.file 22 "<built-in>"
ARM GAS  /tmp/ccbgbwgu.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 motorControl.cpp
     /tmp/ccbgbwgu.s:17     .text._ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000000 $t
     /tmp/ccbgbwgu.s:25     .text._ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000000 _ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef
     /tmp/ccbgbwgu.s:65     .text._ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000018 $d
.ARM.exidx.text._ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000000 $d
     /tmp/ccbgbwgu.s:25     .text._ZN18STM32_motorControl12motorControlC2EP12GPIO_TypeDeftP17TIM_HandleTypeDef:0000000000000000 _ZN18STM32_motorControl12motorControlC1EP12GPIO_TypeDeftP17TIM_HandleTypeDef
     /tmp/ccbgbwgu.s:74     .text._ZN18STM32_motorControl12motorControl11timer_startEv:0000000000000000 $t
     /tmp/ccbgbwgu.s:81     .text._ZN18STM32_motorControl12motorControl11timer_startEv:0000000000000000 _ZN18STM32_motorControl12motorControl11timer_startEv
.ARM.extab.text._ZN18STM32_motorControl12motorControl11timer_startEv:0000000000000000 $d
.ARM.exidx.text._ZN18STM32_motorControl12motorControl11timer_startEv:0000000000000000 $d
     /tmp/ccbgbwgu.s:110    .text._ZN18STM32_motorControl12motorControl10timer_stopEv:0000000000000000 $t
     /tmp/ccbgbwgu.s:117    .text._ZN18STM32_motorControl12motorControl10timer_stopEv:0000000000000000 _ZN18STM32_motorControl12motorControl10timer_stopEv
.ARM.extab.text._ZN18STM32_motorControl12motorControl10timer_stopEv:0000000000000000 $d
.ARM.exidx.text._ZN18STM32_motorControl12motorControl10timer_stopEv:0000000000000000 $d
     /tmp/ccbgbwgu.s:146    .text._ZN18STM32_motorControl12motorControl22adjust_timer_frequencyEv:0000000000000000 $t
     /tmp/ccbgbwgu.s:153    .text._ZN18STM32_motorControl12motorControl22adjust_timer_frequencyEv:0000000000000000 _ZN18STM32_motorControl12motorControl22adjust_timer_frequencyEv
.ARM.exidx.text._ZN18STM32_motorControl12motorControl22adjust_timer_frequencyEv:0000000000000000 $d
     /tmp/ccbgbwgu.s:186    .text._ZN18STM32_motorControl12motorControl25calculate_timer_frequencyEt:0000000000000000 $t
     /tmp/ccbgbwgu.s:193    .text._ZN18STM32_motorControl12motorControl25calculate_timer_frequencyEt:0000000000000000 _ZN18STM32_motorControl12motorControl25calculate_timer_frequencyEt
     /tmp/ccbgbwgu.s:221    .text._ZN18STM32_motorControl12motorControl25calculate_timer_frequencyEt:0000000000000018 $d
.ARM.exidx.text._ZN18STM32_motorControl12motorControl25calculate_timer_frequencyEt:0000000000000000 $d
     /tmp/ccbgbwgu.s:232    .bss._ZN18STM32_motorControl7motorC1E:0000000000000000 _ZN18STM32_motorControl7motorC1E
     /tmp/ccbgbwgu.s:229    .bss._ZN18STM32_motorControl7motorC1E:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_TIM_Base_Start
__aeabi_unwind_cpp_pr1
HAL_TIM_Base_Stop
